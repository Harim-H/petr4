<!DOCTYPE html>
<html><head>
	<meta name="generator" content="Hugo 0.75.1" />

    <meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes">

    <link rel="canonical" href="https://cornell-netlab.github.io/petr4/">

    <title>
        
        Petr4: Formal Foundations for P4 Data Planes | Petr4
        
    </title>

    
    <link href="https://cornell-netlab.github.io/petr4/css/fontawesome.min.css" rel="stylesheet">

    
    <link rel="stylesheet" href="https://cornell-netlab.github.io/petr4/css/ace.min.css">

    
    
        
    

</head>
<body><nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow sticky-top" id="navbarMain">
    <div class="container">
        <div>
            <a class="navbar-brand" href="/petr4">
                Petr4
            </a>
        </div>
        
            <button class="navbar-toggler navbar-toggler-right collapsed" type="button" data-toggle="collapse" data-target="#navbarMainCollapse" aria-controls="navbarMainCollapse" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarMainCollapse">
              <ul class="navbar-nav ml-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="https://github.com/cornell-netlab/petr4/" >
                                  <i class='fab fa-github'></i> Code
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="https://cornell-netlab.github.io/petr4/" >
                                  <i class='fa fa-home'></i> Home
                                </a>
                            </li>
              </ul>
            </div>
    </div>
</nav>
<div class="container-fluid">
            <div class="row">

                <div class="docs-sidenav order-0 col-12 col-md-3 col-lg-2 col-xl-2 position-sticky border-right"><nav class="navbar navbar-expand-md navbar-light pl-0">
    <button class="navbar-toggler navbar-toggler-right collapsed" type="button" data-toggle="collapse" data-target="#sidenav-left-collapse" aria-controls="sidenav-left-collapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

     <div class="collapse navbar-collapse align-items-start flex-column" id="sidenav-left-collapse">
         <ul class="navbar-nav flex-column pt-3">
    <li data-nav-id="/petr4/installation/" class="nav-item my-1
        ">
        
        <a class="nav-link p-0" href="/petr4/installation/"><h6>Installing Petr4</h6></a>
    </li>
    <li data-nav-id="/petr4/claims/" class="nav-item my-1
        ">
        
        <a class="nav-link p-0" href="/petr4/claims/"><h6>Verifying claims from the POPL&#39;21 paper</h6></a>
    </li>
    <li data-nav-id="/petr4/usage/" class="nav-item my-1
        ">
        
        <a class="nav-link p-0" href="/petr4/usage/"><h6>Using Petr4</h6></a>
    </li>
    <li data-nav-id="/petr4/ast/" class="nav-item my-1
        ">
        
        <a class="nav-link p-0" href="/petr4/ast/"><h6>Understanding Petr4&#39;s Architecture</h6></a>
    </li>
    <li data-nav-id="/petr4/targets/" class="nav-item my-1
        ">
        
        <a class="nav-link p-0" href="/petr4/targets/"><h6>Adding a New Target</h6></a>
    </li>
    <li data-nav-id="/petr4/contributors/" class="nav-item my-1
        ">
        
        <a class="nav-link p-0" href="/petr4/contributors/"><h6>Contributors</h6></a>
    </li>
        </ul>
    </div>
</nav>


</div>
                <div class="docs-toc large order-lg-2 order-md-0 order-xs-1 col-12 col-lg-2 col-xl-2 position-sticky border-left"><div class="docs-toc">
	<nav id="TableOfContents"></nav>
</div>
</div>
                <div class="main col-12 order-1 col-md-9 col-lg-10 col-xl-8 py-3">
                
	

	<h1>Petr4: Formal Foundations for P4 Data Planes</h1>

	<p class="lead">
    <p>P4 is a domain-specific language for specifying the behavior of packet-processing systems. It is based on an elegant design with high-level abstractions, such as parsers and match-action pipelines, which can be compiled to efficient implementations in hardware or software. Unfortunately, like many industrial languages, P4 lacks a formal foundation. The P4 specification is a 160-page document with a mixture of informal prose, graphical diagrams, and pseudocode. The reference compiler is complex, running to over 40KLoC of C++ code. Clearly neither of these artifacts is suitable for formal reasoning.</p>
<p>This project presents a new framework, called Petr4, that puts P4 on a solid foundation. Petr4 uses standard elements of the semantics engineering toolkit, namely type systems and operational semantics, to build a compositional semantics that assigns an unambiguous meaning to every P4 program. Petr4 is implemented as an OCaml prototype that has been validated against a suite of over 750 tests from the reference implementation. While developing Petr4, we discovered dozens of bugs in the language specification and the reference implementation, many of which have been fixed. Furthermore, we have used Petr4 to establish the soundness of P4â€™s type system, prove key properties such as termination, and formalize a language extension.</p>

</p>


	


                    
                    <div class="row"><div class="position-relative mx-auto col-lg-9">
                          <div class="bg-primary overflow-hidden p-3 mt-5 shadow">

    <h4 class="text-white text-center">Read more</h4>

    <div class="d-flex justify-content-center"><a class="p-1 ml-3 d-inline-block text-white text-right" href="/petr4/installation/" title="Installing Petr4">Installing Petr4<i class="fas fa-chevron-right p-1"></i></a>
    </div>
</div>


                        </div></div> 

                </div>

            </div> 

        </div> 
<script src="https://cornell-netlab.github.io/petr4/lib/jquery.min.js"></script> 
<script src="https://cornell-netlab.github.io/petr4/lib/popper.min.js"></script> 

<script src="https://cornell-netlab.github.io/petr4/js/bootstrap.min.js"></script> 


<script type="text/javascript" src="/petr4/plugins/lunr.min.js"></script>
<script type="text/javascript" src="/petr4/plugins/auto-complete.js"></script>
<link href="/petr4/plugins/auto-complete.css" rel="stylesheet">
<script type="text/javascript">
  
      var baseurl = "https:\/\/cornell-netlab.github.io\/petr4\/";
  
</script>
<script type="text/javascript" src="/petr4/plugins/search.js"></script>


<script type="text/javascript" src="/petr4/plugins/clipboard.js"></script>
<script>
  new ClipboardJS('.btn');
</script>
</body>
</html>
